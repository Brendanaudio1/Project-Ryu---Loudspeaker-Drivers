from numpy import *

class Steel:
    MU_ZERO     = 4*pi*power(10, -7.0)
    
    # Saturation values
    _1010_BSAT = 1.85
    _1008_BSAT = 2.10
    _1006_BSAT = 2.13
    
    # Relative permeability vs flux density
    _1010_MU = [
                (0.0000,    460.9800),
                (0.0277,    497.1100),
                (0.0348,    750.7800),
                (0.0427,    859.4800),
                (0.0606,   1076.0600),
                (0.1180,   1330.2000),
                (0.1936,   1720.0000),
                (0.2900,   2064.0000),
                (0.4000,   2050.0000),
                (0.4950,   1800.0000),
                (0.5800,   1650.0000),
                (0.6600,   1400.0000),
                (0.7200,   1200.0000),
                (0.7800,   1100.0000),
                (0.8300,    966.6600),
                (0.9250,    933.3300),
                (0.9700,    616.6700),
                (1.1100,    344.0000),
                (1.4000,    207.5000),
                (1.5250,     85.0000),
                (1.6550,     53.7500),
                (1.7400,     33.0000),
                (1.8200,     22.4600),
                (1.8650,     19.9800),
                (1.9200,     16.8600),
                (1.9900,     14.2143),
                (2.0650,      9.6047),
                (2.2300,      5.8684),
                (2.3000,      5.1111),
                (3.0000,      2.6087),
                (4.0000,      1.8605),
                (5.0000,      1.5873),
                (10.0000,     1.2270),
                (20.0000,     1.1019)
                ]                    
    _1008_MU = [
                (0.0000,   1486.6912),
                (1.0000,   1224.2689),
                (1.2000,    868.1179),
                (1.4000,    618.9359),
                (1.5000,    481.3154),
                (1.6000,    351.7236),
                (1.6500,    285.4409),
                (1.7000,    231.2508),
                (1.7500,    188.1900),
                (1.8000,    153.1973),
                (1.8500,    124.7613),
                (1.9000,    101.0001),
                (1.9500,     81.6716),
                (2.0000,     65.8481),
                (2.0500,     52.8625),
                (2.1000,     41.9987),
                (2.2000,     19.1292),
                (2.3000,     10.9532),
                (2.4000,      8.0011),
                (2.5000,      6.2502),
                (2.8500,      3.3530),
                (3.0000,      3.3333),
                (4.0000,      2.1053),
                (5.0000,      1.7241),
                (10.0000,     1.2658),
                (20.0000,     1.1173)
                ]        
    _1006_MU = [
                (0.0000,   1530.0000),
                (0.6416,   2138.6047),
                (0.7873,   1968.1677),
                (1.0596,   1513.6877),
                (1.2397,   1239.6501),
                (1.3960,    930.6706),
                (1.4629,    731.4435),
                (1.5562,    518.7375),
                (1.6184,    404.5879),
                (1.6509,    330.1898),
                (1.7071,    243.8759),
                (1.7669,    176.6945),
                (1.8479,    123.1962),
                (1.9121,     95.6031),
                (2.0110,     67.0341),
                (2.1060,     42.1198),
                (2.1660,     30.9430),
                (2.2130,     22.1301),
                (2.2549,     17.9447),
                (2.6293,      5.2586),
                (3.1293,      3.1293),
                (3.6293,      2.4195),
                (4.1293,      2.0647),
                (4.6293,      1.8517),
                (5.1293,      1.7098),
                (5.6293,      1.6084),
                (6.1293,      1.5323),
                (6.6293,      1.4732),
                (7.1293,      1.4259),
                (7.6293,      1.3871),
                (8.1293,      1.3549),
                (8.6293,      1.3276),
                (9.1293,      1.3042),
                (9.6293,      1.2839),
                (10.1293,     1.2662),
                (10.6293,     1.2505),
                (11.1293,     1.2366),
                (11.6293,     1.2241),
                (12.1293,     1.2129),
                (12.6293,     1.2028),
                (13.1293,     1.1936),
                (13.6293,     1.1852),
                (14.1293,     1.1774),
                (14.6293,     1.1703),
                (15.1293,     1.1638),
                (15.6293,     1.1577),
                (16.1293,     1.1521),
                (16.6293,     1.1468),
                (17.1293,     1.1420),
                (20.0000,     1.1192)
               ]
    
    STEEL_MU = {
                "1010": _1010_MU,
                "1008": _1008_MU,
                "1006": _1006_MU
                }                
    STEEL_BSAT = {
                  "1010": _1010_BSAT,
                  "1008": _1008_BSAT,
                  "1006": _1006_BSAT
                  }
                  
    def __init__(self, type):
        self.mu = self.STEEL_MU[type]
        self.bsat = self.STEEL_BSAT[type]
    
    def getMu(self, B):
        mu_b = [value for value in self.mu if value[0] <= B or value[0] >= B ]
        return mu_b[0][1]*self.MU_ZERO